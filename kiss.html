<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>KISS üòΩüíû</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;800&display=swap" rel="stylesheet">

<!-- Warm up the video host and preload the clip for instant start -->
<link rel="preconnect" href="https://media.giphy.com" crossorigin>
<link rel="preload" as="video" href="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.mp4" type="video/mp4">

<style>
  :root{--bg1:#ffd6ec;--bg2:#ffe8f3;--ink:#4a2f44;--hot:#ff0066}
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:"Baloo 2",system-ui,sans-serif;color:var(--ink);
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;flex-direction:column;justify-content:center;align-items:center;
    text-align:center;padding:24px;
  }
  h1{font-size:clamp(44px,10vw,120px);color:#ff3c86;margin:0 0 16px;text-transform:uppercase}
  p.sub{margin:0 0 20px;font-weight:800;font-size:clamp(28px,4vw,46px);color:#ff3c86}
  p.sub::first-letter{ text-transform:uppercase }

  /* heart button */
  .heart{
    display:flex;justify-content:center;align-items:center;
    width:120px;height:120px;margin:0 auto 20px;
    border-radius:999px;border:none;cursor:pointer;outline:none;
    background:radial-gradient(circle at 30% 30%, var(--hot), #c1004f);
    box-shadow:0 22px 60px rgba(255,0,102,.45), 0 0 0 6px #ffffff55;
    transition:transform .08s ease;
  }
  .heart:active{transform:scale(.97)}
  .heart span{font-size:58px;line-height:1;display:block;transform:translateY(2px);
    color:#fff;filter:drop-shadow(0 2px 2px rgba(0,0,0,.25))}
  .beating{animation:beat .9s ease-in-out infinite}
  @keyframes beat{0%{transform:scale(1)}25%{transform:scale(1.06)}50%{transform:scale(1)}75%{transform:scale(1.06)}100%{transform:scale(1)}}

  /* video wrapper */
  #vidWrap{display:none}
  video{
    width:min(520px,88vw);border-radius:24px;display:block;margin:0 auto 18px;
    box-shadow:0 22px 60px rgba(255,0,102,.25);background:#000;
  }

  /* next heart (locked until video ends) */
  .next-heart{
    display:flex;justify-content:center;align-items:center;
    width:120px;height:120px;margin:0 auto;
    border-radius:999px;border:none;cursor:not-allowed;opacity:.5;outline:none;
    background:radial-gradient(circle at 30% 30%, var(--hot), #c1004f);
    box-shadow:0 22px 60px rgba(255,0,102,.45), 0 0 0 6px #ffffff55;
    transition:transform .08s ease;text-decoration:none;
  }
  .next-heart:active{transform:scale(.97)}
  .next-heart span{font-size:58px;line-height:1;display:block;transform:translateY(2px);
    color:#fff;filter:drop-shadow(0 2px 2px rgba(0,0,0,.25))}
  .enabled{cursor:pointer;opacity:1}
</style>
</head>
<body>
  <main>
    <h1>FIRST TAKE THIS KISS</h1>
    <p class="sub">then you can move on</p>

    <!-- Step 1: press heart to reveal & play video -->
    <button id="showBtn" class="heart" aria-label="Show kiss"><span>ü§ç</span></button>

    <!-- Step 2: MP4 video (smooth) -->
    <div id="vidWrap">
      <video id="kissVid"
             src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.mp4"
             playsinline
             preload="auto"
             muted
             disablepictureinpicture
             controlslist="nodownload noplaybackrate"
             poster="">
        Sorry, your browser does not support embedded videos.
      </video>

      <a id="nextBtn" href="song.html" class="next-heart" aria-label="Next"><span>ü§ç</span></a>
    </div>
  </main>

<script>
  const showBtn = document.getElementById('showBtn');
  const vidWrap = document.getElementById('vidWrap');
  const video   = document.getElementById('kissVid');
  const nextBtn = document.getElementById('nextBtn');

  // Some mobile browsers require a user gesture to play; we tie it to the heart click.
  showBtn.addEventListener('click', async ()=>{
    showBtn.style.display = 'none';
    vidWrap.style.display = 'block';
    try{
      // Start immediately; muted ensures autoplay works cross-device.
      await video.play();
    }catch(e){
      // fallback: if blocked, show a quick hint and let user tap video to play
      alert('Tap the video once to start playback.');
    }
  });

  // Only unlock after one full play
  video.addEventListener('ended', ()=>{
    nextBtn.classList.add('enabled');
  });

  // Optional: double-tap to pause, single tap to play (mobile friendliness)
  let lastTap = 0;
  video.addEventListener('click', async ()=>{
    const now = Date.now();
    if (now - lastTap < 350){ // double tap
      if (!video.paused) video.pause();
    } else { // single
      try{ await video.play(); }catch{}
    }
    lastTap = now;
  });
</script>
</body>
</html>
